<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>WXYC Live Stream</title>
    <meta name="theme-color"      content="#7BAFD4" />
    <link rel="manifest"          href="manifest.json" />
    <link rel="shortcut icon"     href="images/wxyc-square.png" />
    <link rel="icon"              href="images/wxyc-square-app-icon.png" />
    <link rel="apple-touch-icon"  href="images/wxyc-square-app-icon.png" />
    <style>
    * {
      box-sizing: border-box;
    }
    html, body {
      position: fixed;
      height:   100%;
      width:    100%;
      margin:   0;
      padding:  0;
    }
    body {
      padding:            0.5em;
      font-size:          300%;
      font-family:        sans-serif;
      background-color:   #EEEEEE;
      transition:         background-color 10000ms linear;
    }
    audio {
      padding-top:    0.0em;
      padding-bottom: 0.0em;
    }
    a {
      text-decoration: none;
    }
    #wxyc-image {
      margin-bottom: 0.5em;
    }
    #github-image {
    }
    .flex-column {
      display:        flex;
      flex-direction: column;
    }
    .flex-grow {
      flex-grow: 1;
    }
    </style>
  </head>

  <body class="flex-column">

    <div class="flex-grow">
      <a href="http://www.wxyc.org/" target="_blank">
        <img id="wxyc-image" src="images/wxyc-square.png" width="128"/>
      </a>
    </div>

    <div class="flex-grow">
      <audio controls>
        <source src="http://audio-mp3.ibiblio.org:8000/wxyc.mp3" type="audio/mpeg">
        Sorry, your browser does not support playing audio on this web page.
      </audio>
    </div>

    <div class="flex-grow">
      <a href="http://www.wxyc.info/playlists/recent" target="_blank">
        playlist
      </a>
    </div>

    <div>
      <a href="https://github.com/pmuellr/wxyc-player" target="_blank">
        <img id="github-image" src="images/GitHub-Mark-120px-plus.png" width="64"/>
      </a>
    </div>

    <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('scripts/service-worker.js')
    }

    var color
    var colors = ['#7BAFD4', '#EEEEEE']
    var colorIndex = 1

    setTimeout(changeBackgroundColor, 1)
    setInterval(changeBackgroundColor, 10000)

    function changeBackgroundColor () {
      colorIndex = (colorIndex + 1) % 2
      color = colors[colorIndex]
      document.body.style.backgroundColor = color
    }
    </script>
  </body>
</html>
